<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Strict//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml' xml:lang='es' lang='es'>

<head>
    <meta http-equiv='Content-Type' content='text/html; charset=utf-8' />
    <title>Limitar caracteres</title>
    <link rel='stylesheet' href='css/style.css' type='text/css' media='screen' charset='utf-8' />
</head>

<body>
    <header>
      <h1>JAVASCRIPT AVANZADO U3</h1>
    </header>
    <nav>
        <a href="index.html">Volver a unidad 3</a>
    </nav>
    <main>
        <h3>Inputs limitados a entrada de tipo de caracter</h3>
            <form action="" id="formulario">
        Solo numeros: <input type="text" id="text1" onkeypress="return permite(event,'num')" />
        <br />
        Solo texto: <input type="text" id="text2" onkeypress="return permite(event,'car')" />
        <br />
        Numeros y textos: <input type="text" id="text3" onkeypress="return permite(event,'num_car')" />
     </form>

        <img src="img/restringir1.PNG" alt="limita">
        <img src="img/restringir2.PNG" alt="limita">

    </main>
    <footer>
        <p>Todos los derechos reservados</p>
        <p>JSS - 2024</p>
    </footer>
    <script type="text/javascript">
        function permite(elEvento, permitidos) {
        // Variables que definen los caracteres permitidos
        var numeros = "0123456789";
        var caracteres = " abcdefghijklmnñopqrstuvwxyzABCDEFGHIJKLMNÑOPQRSTUVWXYZ";
        var numeros_caracteres = numeros + caracteres;
        var teclas_especiales = [8, 37, 39, 46];
        // 8 = BackSpace, 46 = Supr, 37 = flecha izquierda, 39 = flecha derecha
        // Seleccionar los caracteres a partir del parámetro de la función
        switch(permitidos) {
          case 'num':
            permitidos = numeros;
            break;
          case 'car':
            permitidos = caracteres;
            break;
          case 'num_car':
            permitidos = numeros_caracteres;
            break;
        }
        // Obtener la tecla pulsada
        var evento = elEvento || window.event;
        var codigoCaracter = evento.charCode || evento.keyCode;
        var caracter = String.fromCharCode(codigoCaracter);
        // Comprobar si la tecla pulsada es alguna de las teclas especiales
        // (teclas de borrado y flechas horizontales)
        var tecla_especial = false;
        for(var i in teclas_especiales) {
          if(codigoCaracter == teclas_especiales[i]) {
            tecla_especial = true;
            break;
          }
        }
        // Comprobar si la tecla pulsada se encuentra en los caracteres permitidos
        // o si es una tecla especial
        return permitidos.indexOf(caracter) != -1 || tecla_especial;
      }
    </script>





</body>

</html>